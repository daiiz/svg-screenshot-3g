javascript:(function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):
$jscomp.POLYFILL_PREFIX+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,f){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,c||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,c){return[b,c]})}},"es6","es3");var PADDING=8,PREVEW_MARGIN=0,PREVEW_PADDING=8,ESC=27;
function createStyleNode(a,b){var c=function(k){return k.replace(/[A-Z]/g,function(l){return"-"+l.toLowerCase()})},d=document.createElement("style");if("HTML"===a.tagName||"BODY"===a.tagName)return d;var e=window.getComputedStyle(a);a=Object.create(null);for(var f=$jscomp.makeIterator(Object.keys(e)),g=f.next();!g.done;g=f.next())g=g.value,/^[a-z]/i.test(""+g)&&(a[g]=e[g]);e="";f=$jscomp.makeIterator(Object.keys(a));for(g=f.next();!g.done;g=f.next()){g=g.value;var h=c(g);h.startsWith("webkit")||"visibility"===
h&&"hidden"!==a[h]||(e+=h+": "+a[g]+"; ")}d.dataset.mark=b;d.innerText="."+b+" { "+e+" }";return d}function getCommonParentElement(a){a=a.commonAncestorContainer;return a.nodeType===Node.ELEMENT_NODE?a:a.parentElement}function createEntityDtd(){return"<!DOCTYPE svg [
"+[["nbsp","&#x00A0;"]].map(function(a){return"<!ENTITY "+a[0]+' "'+a[1]+'" >'}).join("
")+"
]>"}
function generateSvgStr(a,b){var c=b.width,d=b.height;return['<svg width="'+c+'" height="'+d+'" viewBox="'+(b.x+" "+b.y+" "+c+" "+d)+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">','  <foreignObject x="0" y="0" width="'+(c+PREVEW_PADDING+b.x)+'" height="'+(d+PREVEW_PADDING+b.y)+'">','  <html xmlns="http://www.w3.org/1999/xhtml">
  <head>','    <base href="'+window.location.href+'" />','  </head>
  <div class="body">
    <style>
    foreignObject { margin: 0; padding: 0; background-color: #fff; }',
"    .body { margin: "+PREVEW_MARGIN+"px !important; padding: "+PREVEW_PADDING+"px; !important; }","    </style>",a.outerHTML,"  </div>
  </html>
  </foreignObject>
</svg>"].join("
")}
function preview(a,b,c){a=void 0===a?"":a;b=void 0===b?!1:b;c=void 0===c?!1:c;var d=window.open();d.document.write(a);b&&(d.document.querySelector("body").style="margin: "+PREVEW_MARGIN+"px !important; padding: "+PREVEW_PADDING+"px; !important;");c&&(d.document.querySelector("body").style.backgroundColor="#444",d.document.querySelector("svg").style="box-shadow: 0 0 4px rgb(0 0 0 / 40%);");b=document.createElement("pre");b.style.color="#fafafa";b.style.display="block";b.innerText=a;a=createEntityDtd()+
"
"+a;a=new Blob([a],{type:'image/svg+xml; charset="utf-8"'});c=URL.createObjectURL(a);a=document.createElement("a");a.style.display="inline-block";a.style.color="#fafafa";a.innerText="Download as SVG";a.download="svgscreenshot3g_"+Math.floor((new Date).getTime())+".svg";a.href=c;c=document.createElement("div");c.style.display="block";c.appendChild(a);d.document.body.appendChild(c);d.document.body.appendChild(b)}
function removeSensitiveAttributes(a,b){b=void 0===b?[]:b;b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;c.removeAttribute("id");c.removeAttribute("srcset");c.removeAttribute("sizes");var d=Array.from(c.classList);d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next())e=e.value,e.startsWith(a)||c.classList.remove(e);d=$jscomp.makeIterator(Object.keys(c.dataset));for(e=d.next();!e.done;e=d.next())delete c.dataset[e.value]}}
function correctAnchors(a){a=void 0===a?[]:a;a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,"A"===b.tagName&&((b.getAttribute("href")||"").startsWith("javascript:")?b.setAttribute("href","#"):(b.setAttribute("href",b.href),b.setAttribute("target","_blank"),b.setAttribute("rel","noreferrer noopener")))}
function formatElements(a,b){var c=b.querySelectorAll("*");removeSensitiveAttributes(a,[b].concat($jscomp.arrayFromIterable(c)));correctAnchors([b].concat($jscomp.arrayFromIterable(c)));b=[a+"0"];c=$jscomp.makeIterator(c);for(var d=c.next();!d.done;d=c.next())(d=d.value.getAttribute("class"))&&d.startsWith(a)&&(d=d.split(" ").filter(function(e){return/[0-9]+$/.test(e)}),0!==d.length&&(b.includes(d[0])||b.push(d[0])));return b}
var CloneRangeDom=function(a){this.PREFIX=a||"__daiiz_clone_range_dom_";this.nodeCounter=0;this._refs=[];this._widths=[];this._heights=[];this.max_y=this.min_y=this.max_x=this.min_x=-1;this.tmpDiv=null};
CloneRangeDom.prototype.cleanNodes=function(a,b){a=void 0===a?[]:a;b=void 0===b?!1:b;for(var c=$jscomp.makeIterator(a),d=c.next();!d.done;d=c.next()){d=d.value;var e=Array.from(d.classList);e=$jscomp.makeIterator(e);for(var f=e.next();!f.done;f=e.next())f=f.value,f.startsWith(this.PREFIX)&&d.classList.remove(f)}b&&(a.length=0)};
CloneRangeDom.prototype.getContainerSize=function(a){var b={};if(0<this.max_x&&0<this.max_y)return b.width=this.max_x-this.min_x,b.height=this.max_y-this.min_y,b;a=a.getBoundingClientRect();return{width:a.width,height:a.height}};CloneRangeDom.prototype.markNode=function(a){this.cleanNodes([a]);a.classList.add(""+this.PREFIX+this.nodeCounter);this.nodeCounter+=1;this._refs.push(a)};
CloneRangeDom.prototype.generateRangeStyles=function(a,b){a=void 0===a?[]:a;b=void 0===b?0:b;var c=[],d=[];a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next()){var f=e.value,g=document.querySelector("."+f);c.push(createStyleNode(g,f));if(g.nodeType===Node.ELEMENT_NODE){var h=g.getBoundingClientRect(),k=h.y;e=h.top;var l=h.bottom,p=h.left,m=h.right,n=h.height;this._widths.push(h.x+h.width);this._heights.push(k+n);h=$jscomp.makeIterator(f.match(/([0-9]+)$/));h.next();h.next();if(f!==""+
this.PREFIX+b){f=getComputedStyle(g);g=+f.marginLeft.replace("px","");f.marginRight.replace("px","");h=+f.marginTop.replace("px","");f.marginBottom.replace("px","");d.push(h);if(0>this.min_x||p-g<this.min_x)this.min_x=p-g;if(0>this.min_y||e-h<this.min_y)this.min_y=e-h;if(0>this.max_x||m>this.max_x)this.max_x=m;if(0>this.max_y||l>this.max_y)this.max_y=l}}}return[c,d]};
CloneRangeDom.prototype.cloneDocumentTree=function(a){window.getSelection();var b=function(l){l=(l.tagName||"").toLowerCase();return"embed script style link meta source".split(" ").includes(l)?!0:!1},c=this.PREFIX,d=getCommonParentElement(a),e=0;a=0;for(var f=document.body.childNodes;f.length;){var g=[];f=$jscomp.makeIterator(f.entries());for(var h=f.next();!h.done;h=f.next())h=$jscomp.makeIterator(h.value),h.next(),h=h.next().value,b(h)||(h===d&&(a=e),(h.contains(d)||d.contains(h))&&h.classList&&
(h.classList.add(c),h.classList.add(""+c+e),g.push(h),e+=1));f=[];g=$jscomp.makeIterator(g);for(h=g.next();!h.done;h=g.next())if(h=h.value.childNodes){h=$jscomp.makeIterator(h.entries());for(var k=h.next();!k.done;k=h.next())k=$jscomp.makeIterator(k.value),k.next(),k=k.next().value,f.push(k)}}d=document.body.cloneNode(!0);for(f=d.childNodes;f.length;){e=[];f=$jscomp.makeIterator(f.entries());for(g=f.next();!g.done;g=f.next())g=$jscomp.makeIterator(g.value),g.next(),g=g.next().value,b(g)||!g.classList?
g.outerHTML="":g.classList.contains(c)?e.push(g):g.innerHTML="";f=[];e=$jscomp.makeIterator(e);for(h=e.next();!h.done;h=e.next())if(g=h.value.childNodes)for(g=$jscomp.makeIterator(g.entries()),h=g.next();!h.done;h=g.next())h=$jscomp.makeIterator(h.value),h.next(),h=h.next().value,f.push(h)}e=document.createElement("div");e.className=this.PREFIX+"wrapper";f=d.childNodes;f=$jscomp.makeIterator(f.entries());for(d=f.next();!d.done;d=f.next())d=$jscomp.makeIterator(d.value),d.next(),d=d.next().value,!b(d)&&
d.classList&&d.classList.contains(c)&&e.appendChild(d);return[e,a]};
CloneRangeDom.prototype.generateDomshot=function(a,b,c,d){var e=document.createElement("div");e.className=this.PREFIX+"container";d=this.getContainerSize(d);d=$jscomp.makeIterator(Object.keys({width:d.width+2*PADDING+"px",height:d.height+2*PADDING+"px",border:"1px solid cyan",padding:PADDING+"px",overflow:"hidden","box-sizing":"border-box"}));for(var f=d.next();!f.done;f=d.next());d=document.createElement("style");b=$jscomp.makeIterator([d].concat($jscomp.arrayFromIterable(b)));for(d=b.next();!d.done;d=
b.next())e.appendChild(d.value);b=document.createElement("style");b.innerText="div.__daiiz_clone_range_dom_0 { margin-top: "+c+"px; }";e.appendChild(b);c=a.querySelectorAll("svg");c=$jscomp.makeIterator(c);for(b=c.next();!b.done;b=c.next())b.value.setAttribute("xmlns","http://www.w3.org/2000/svg");e.appendChild(a);return e};
CloneRangeDom.prototype.initShadowRoot=function(){var a=document.getElementById(this.PREFIX+"_tmp");a&&a.remove();a=document.createElement("div");a.id=this.PREFIX+"_tmp";a.style="height: 1px; overflow: auto; visibility: hidden; position: absolute;";document.body.appendChild(a);a=document.getElementById(this.PREFIX+"_tmp");a.shadowRoot||a.attachShadow({mode:"open"});return a};
CloneRangeDom.prototype.clearClassNames=function(a){a=void 0===a?[]:a;a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=document.querySelector("."+b);c&&c.classList&&(c.classList.remove(b),c.classList.remove(this.PREFIX))}};
CloneRangeDom.prototype.capture=function(a){var b=this,c=this.initShadowRoot();this.tmpDiv=c;this.nodeCounter=0;this._widths.length=0;this._heights.length=0;this.max_x=this.min_x=this.max_y=this.min_y=-1;var d=window.getSelection();if(!d.rangeCount)throw Error("Selection is empty.");var e=d.getRangeAt(0),f=getCommonParentElement(e).getBoundingClientRect(),g=$jscomp.makeIterator(this.cloneDocumentTree(e));d=g.next().value;var h=g.next().value;g=formatElements(this.PREFIX,d);var k=$jscomp.makeIterator(this.generateRangeStyles(g,
h)),l=k.next().value;k=k.next().value;k=Math.min.apply(Math,$jscomp.arrayFromIterable(k));var p=0;0>k&&(p=-1*k+2*PADDING);var m=this.generateDomshot(d,l,p,e);this.cleanNodes(this._refs,!0);c.shadowRoot.appendChild(m);this.clearClassNames(g);requestAnimationFrame(function(){var n=e.getBoundingClientRect(),q=m.querySelector("."+b.PREFIX+h).getBoundingClientRect(),r=c.getBoundingClientRect();document.createElement("div");n=generateSvgStr(m,{x:Math.max(PADDING,q.left-r.left-PADDING+PREVEW_PADDING+(n.left-
f.left)),y:Math.max(PADDING,q.top-r.top-PADDING+PREVEW_PADDING+(n.top-f.top)),width:a.width+2*PADDING,height:a.height+2*PADDING}).replace(/(<(?:img|input|br|hr|frame|area|base|basefont|col|isindex|link|meta|param)("[^"]*"|[^\/">])*)>/gi,"$1 />");preview(n,!1,!0)})};var Cropper=function(){this.padding=8;this.rect={};this.cloneRangeDom=new CloneRangeDom;this.bindEvents()};
Cropper.prototype.createBorder=function(a){var b=a.width,c=a.height;a=a.padding;var d=document.createElement("div");d.className="svgss2-cropper-border";d.style.width=b?b+2*a+"px":"1px";d.style.height=c?c+2*a+"px":"1px";d.style.backgroundColor="#aaa";d.style.userSelect="none";d.style.position="fixed";return d};
Cropper.prototype.renderCropper=function(a){var b=a.x,c=a.y,d=a.width;a=a.height;if(d&&a){var e=this.padding+1,f=this.createBorder({width:d,padding:e});f.style.left=b-e+"px";f.style.top=c-e+"px";var g=this.createBorder({width:d,padding:e});g.style.left=b-e+"px";g.style.top=c+a+e+"px";var h=this.createBorder({height:a,padding:e});h.style.left=b-e+"px";h.style.top=c-e+"px";var k=this.createBorder({height:a,padding:e});k.style.left=b+d+e+"px";k.style.top=c-e+"px";e=$jscomp.makeIterator([f,g,h,k]);for(f=
e.next();!f.done;f=e.next())document.body.appendChild(f.value);this.rect={x:b,y:c,width:d,height:a}}};Cropper.prototype.clearCropper=function(){var a=document.querySelectorAll("div.svgss2-cropper-border");a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b.value.remove()};
Cropper.prototype.selectionchangeHandler=function(){var a=window.getSelection();if(0===a.rangeCount)return this.clearCropper();a=a.getRangeAt(0);a.cloneContents();a=a.getBoundingClientRect();if(20>=a.width||20>=a.height)return this.clearCropper();this.clearCropper();this.renderCropper(a)};
Cropper.prototype.mouseupHandler=function(){var a=this,b=window.getSelection(),c=document.querySelector(".svgss2-cropper-border");0!==b.rangeCount&&c&&window.requestAnimationFrame(function(){a.clearCropper();a.clearEvents();a.cloneRangeDom.capture(a.rect);b.empty()})};Cropper.prototype.keyupHandler=function(a){a.keyCode===ESC&&(window.getSelection().empty(),this.clearCropper(),this.clearEvents())};
Cropper.prototype.bindEvents=function(){document.addEventListener("selectionchange",this.selectionchangeHandler.bind(this),!1);document.addEventListener("mouseup",this.mouseupHandler.bind(this),!1);window.addEventListener("keyup",this.keyupHandler.bind(this),!1)};
Cropper.prototype.clearEvents=function(){document.removeEventListener("selectionchange",this.selectionchangeHandler.bind(this),!1);document.removeEventListener("mouseup",this.mouseupHandler.bind(this),!1);window.removeEventListener("keyup",this.keyupHandler.bind(this),!1)};cropper=new Cropper;})()
